groups:
  - id: event.browser.web_vital
    stability: development
    type: event
    name: browser.web_vital
    brief: >
      This event describes the website performance metrics introduced by Google, See [web vitals](https://web.dev/vitals).
    body:
      id: browser.web_vital
      requirement_level: required
      stability: development
      type: map
      fields:
        - id: name
          type: enum
          members:
            - id: cls
              value: 'cls'
              brief: Cumulative Layout Shift. See [cls](https://web.dev/articles/cls).
              stability: development
            - id: lcp
              value: 'lcp'
              brief: Largest Contentful Paint. See [lcp](https://web.dev/articles/lcp).
              stability: development
            - id: fid
              value: 'fid'
              brief: First Input Delay. See [fid](https://web.dev/articles/fid).
              stability: development
            - id: inp
              value: 'inp'
              brief: Interation to Next Paint. See [inp](https://web.dev/articles/inp).
              stability: development
          stability: development
          brief: Name of the web vital.
          requirement_level: required
          examples: ["cls"]
        - id: value
          type: double
          stability: development
          brief: Value of the web vital.
          requirement_level: required
          examples: [1.0]
        - id: delta
          type: double
          stability: development
          brief: The delta between the current value and the last-reported value. See [delta](https://github.com/GoogleChrome/web-vitals?tab=readme-ov-file#report-only-the-delta-of-changes).
          requirement_level: required
          examples: [0.2]
        - id: id
          type: string
          stability: development
          brief: A unique ID representing this particular metric instance.
          requirement_level: required
          examples: ["v3-1677874579383-6381583661209"]

  - id: event.browser.page_view
    stability: development
    type: event
    name: browser.page_view
    brief: >
      This event represents a browser page load/view.
    note: >
      The primary use case is to capture metrics about the number of views of
      a page. Page view can be a hard page load in a browser as well as virtual
      navigation in a SPA (single-page application). The event should be
      collected as soon as possible without waiting for potentially delayed
      data such as the Navigation timing browser API.
    body:
      id: browser.page_view
      requirement_level: required
      stability: development
      type: map
      fields:
        - id: referrer
          type: string
          stability: development
          brief: Referring Page URI ([document.referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer)) whenever available.
          requirement_level: recommended
          examples: ["https://en.wikipedia.org/wiki/Main_Page"]
        - id: type
          type: enum
          members:
            - id: physical_page
              value: 0
              stability: development
              brief: >
                Initial page load within the browser which will generally also
                precede a PageNavigationTiming event.
            - id: virtual_page
              value: 1
              stability: development
              brief: >
                This is for Single Page Applications (SPA) where the framework
                provides the ability to perform client side only page
                "navigation", the exact definition of what a virtual page
                change is determined by the SPA and the framework it is using.
          stability: development
          requirement_level: required
          brief: Type of navigation
          examples: [0, 1]
        - id: title
          type: string
          stability: development
          requirement_level: recommended
          brief: Page title DOM property
          examples: ["Home", "Checkout"]
        - id: url
          type: string
          stability: development
          requirement_level: required
          brief: >
            Full HTTP request URL in the form scheme://host[:port]/path?query[#fragment].
            Usually the fragment is not transmitted over HTTP, but if it is
            known, it should be included nevertheless.
          examples: ["https://en.wikipedia.org/wiki/Main_Page", "https://en.wikipedia.org/wiki/Main_Page#foo"]
        - id: change_state
          type: string
          stability: development
          requirement_level: recommended
          brief: Type of state change used for the virtual page navigation
          examples: ["pushState", "replaceState"]
